{"componentChunkName":"component---src-templates-blog-post-js","path":"/190817-github-portfolio-builder/","result":{"data":{"site":{"siteMetadata":{"title":"AvidDabbler Blog","author":"Walter Jenkins"}},"markdownRemark":{"id":"121c973d-98ee-52de-b9c0-3fd9c362ee35","excerpt":"The GitHub Portfolio Builder was designed to work with portfolio sites to easily pull down data from your GitHub Repository. My code was designed to easily…","html":"<p>The GitHub Portfolio Builder was designed to work with portfolio sites to easily pull down data from your GitHub Repository. My code was designed to easily maintain a portfolio site by pulling directly from your own GitHub reops through the GitHub API as well as using files that are in your repository. The end result is a comprehensive dataset that pulls together:</p>\n<ul>\n<li>The description that you have associated with a repo on your GitHub</li>\n<li>The GitHub.com public URL associated with your repo</li>\n<li>The GitHub API URL that is associated with your repo</li>\n<li>The URL where you are hosting that GitHub Page</li>\n<li>A link to a thumbnail photo that you have stored in your root folder of your repo</li>\n<li>A custom list of technologies that you want to highlight associated with your repo </li>\n<li>And a commit history for the past year associated with your repo</li>\n</ul>\n<p> By the end of this tutorial you will have learned about:</p>\n<ul>\n<li>Getting your repo setup to work with my default configuration settings.</li>\n<li>Learn how I structured my code so that you can use it on your own site.</li>\n<li>An example of how you could incorporate this into your HTML site.</li>\n</ul>\n<h1>The Layout</h1>\n<p>In this tutorial we will be restructuring you GitHub repo descriptions to better pull data. There will be 3 different sections:</p>\n<ul>\n<li>The public name of the repo</li>\n<li>The public description of the repo</li>\n<li>and a custom list of technologies that you want to highlight</li>\n</ul>\n<p><img src=\"github_description.PNG\" alt=\"github descriptions layout\"></p>\n<h1>The Code</h1>\n<p>So before we went any further I thought that it might be nice to go over the logic behind pulling all of the variables and getting them all organized into one object. I have tried to do a good job with writing up good notes within the code that you can take a look at <a href=\"https://github.com/AvidDabbler/github-portfolio-builder/blob/master/builder.js\" target=\"_blank\">HERE</a>. I will be posting code snippets along the way so that you know explicitly what I am talking about. </p>\n<h2>Intro</h2>\n<p>So the way that I structured this is by making some assumptions at the top. The 2 things that are of note at the top are the default username and the description split variables that are set as the default variable if there is nothing listed in the declared variable list further in the code. So what I would recommend is either cloning, forking or copying my repo</p>\n<p><strong>To Repo</strong><br>\n<a href=\"https://github.com/AvidDabbler/github-portfolio-builder\">https://github.com/AvidDabbler/github-portfolio-builder</a></p>\n<p><strong>To Clone</strong><br>\n<code class=\"language-text\">git clone https://github.com/AvidDabbler/github-portfolio-builder.git</code></p>\n<h2>Setting Variables</h2>\n<h3>User and Split Variables</h3>\n<p>In the very top of the code you will find these const variables to set up your username and split variable. Switch out your user name and change the split type if you would like. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//! DEFINING DEFAULTS\n\nconst user = `AvidDabbler`; /* ENTER IN GITHUB USERNAME */\nconst split = ` || `; /*  DEFAULT SEPARATOR */\nconst finalArr= []; </code></pre></div>\n<p>So where you see user go ahead an swap out my username for yours and if you want a different split identifier in your description go ahead and set it there.</p>\n<h3>Selecting Repos</h3>\n<p>In order for you to pull data you will need to set up your repos that you want to pull from. The code below is a sample of what I have set up to pull data from my repo. In this example there are other variables that I am not taking advantage of. There are a total of 3 variables repo name, user name, and split type. As we went over in the previous section we defined the default user and split at the top of the code, but I wanted to give the option if you had another username.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// * DEFINED REPOS TO DISPLAY\nconst setupArr = [/* set your variables here. There are 3 variables allowed, \n                    but the last 2 default to the user and split variables \n                    at the top */\n    [`backyard-chickens`],\n    [`CensusViz`],\n    [`dlm-soundboard`],\n\n];</code></pre></div>\n<h2>Code Rundown</h2>\n<h3>getData()</h3>\n<p>The following code snippet shows the full process of getting the data out of GitHub. This process is run through a for loop in the <code class=\"language-text\">reposFunction()</code> which we will cover in the next section. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const getData = async(i, repo, usr = user, splt = split)=&gt;{\n    const gitLink = `https://api.github.com/repos/${usr}/${repo}`;\n    const fetchedData = fetch(gitLink)\n        .then(response=&gt; response.json())\n        .then(myJson=&gt; ({data:myJson}))\n        .then(res =&gt;{return res.data.description});\n    const object = await fetchedData;\n    const objArr = object.split(splt);\n\n    const statLink = `https://api.github.com/repos/${user}/${repo}/stats/participation`;\n    const statData = fetch(statLink).then( response=&gt; \n        response.json()).then(myJson=&gt; ({\n            data:myJson\n        })\n        ).then(async res =&gt;{\n            return res.data.all\n        });\n\n    /* FINAL PRODUCTS */\n    const formTitle = objArr[0];\n    const description = objArr[1];\n    const technology = objArr[2].split(&#39;, &#39;);\n    const particData = await statData;\n\n\n    return {\n            id: i,\n            repo: repo,\n            gitUrl: `https://github.com/${usr}/${repo}`,\n            thumbnail: `https://raw.githubusercontent.com/${usr}/${repo}/master/thumbnail.png`,\n            homepage: `https://${usr}.github.io/${repo}/`,\n            apiUrl: gitLink,\n            title: await formTitle,\n            descr: await description,\n            tech: await technology,\n            stats: await particData\n            }\n        };</code></pre></div>\n<h4>variables</h4>\n<p>In the first line of this code you are linking to your setupArr as well as the default or defined 2nd and 3rd variables in the setupArr. These variables are then used to parse through the section and pull together the GitHup URL’s that you will need to build your json objects at the end that will build your site. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const gitLink = `https://api.github.com/repos/${usr}/${repo}`;\n    const fetchedData = fetch(gitLink)\n        .then(response=&gt; response.json())\n        .then(myJson=&gt; ({data:myJson}))\n        .then(res =&gt;{return res.data.description});\n    const object = await fetchedData;\n    const objArr = object.split(splt)</code></pre></div>\n<p>The section above is the section that took me the most time to pull together. This is how we are able to fetch the raw data, then turn it into json, then go into the <code class=\"language-text\">data</code> key and return <code class=\"language-text\">description</code>. Which is what you will be formatting in all of your repositories on the front page of your repos. Using <code class=\"language-text\">const object</code> you await the data then you use that response to split out the data into an array. Scrolling down a bit you will find the <code class=\"language-text\">const technology</code> variable. This variable will use the result that you just produced.</p>\n<p><code class=\"language-text\">const technology = objArr[2].split(&#39;, &#39;);</code></p>\n<p>To get back the commit history information you need to go to the stats API that GitHub has. The <code class=\"language-text\">const statsLink</code> is what is used to route specifically to the data concerning the amount of participation has taken place on each of the repos that you are querying. In <code class=\"language-text\">const statsData</code> it then takes that URL that you generated and then pulls the data from that location, converts that data to json. Then later in the code that code the resolved promise data is then stored in a static variable <code class=\"language-text\">const particData</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const statLink = `https://api.github.com/repos/${user}/${repo}/stats/participation`;\n    const statData = fetch(statLink).then( response=&gt; \n        response.json()).then(myJson=&gt; ({\n            data:myJson\n        })\n        ).then(async res =&gt;{\n            return res.data.all\n        });</code></pre></div>\n<p>… later in the code</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const particData = await statData;</code></pre></div>\n<h3>reposFuntion()</h3>\n<p>So the getData() will work if you have just one reop object, but if you have multiple reops that you are wanting to stor in a object you will need to use the reposFunction(). This function will call getData() for each item in <code class=\"language-text\">setupArr</code> and cycle through the list of repos that you have set up in the <code class=\"language-text\">setupArr</code>. </p>\n<div class=\"gatsby-highlight\" data-language=\"//* calls all of the functions and pushes into finalarr\"><pre class=\"language-//* calls all of the functions and pushes into finalarr\"><code class=\"language-//* calls all of the functions and pushes into finalarr\">const reposFunction = async () =&gt; { \n    for(let i = 0; i &lt; setupArr.length; i++){\n        let el = setupArr[i];\n        const getDataObj = await getData(i, el[0], el[1], el[2]);/* el 2 and 3 are optional */\n        finalArr.push(getDataObj);\n    };\n};</code></pre></div>\n<h1>The Setup</h1>\n<h2>Description &#x26; Technology Formatting</h2>\n<p>The description can easily be set up by going to your repo and clicking edit at the top of the page next to the repo description. As I mentioned earlier the repo description is broken out into 3 sections:</p>\n<ul>\n<li>Public Name</li>\n<li>Description</li>\n<li>Technology</li>\n</ul>\n<p>Feel free to set them up with whatever you like while remembering to include your custom separator. For the technology section make sure to separate them out by using a comma in the third section. </p>\n<p><img src=\"github_description.PNG\" alt=\"github descriptions layout\"></p>\n<h2>Thumbnails</h2>\n<p>This project has been configured to have the thumbnail photo located in the master root folder of your repo called “thumbnail.png”. Location can be edited by going in the <code class=\"language-text\">getData()</code> return function and changing up the thumbnail template literal.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1427da54a8ac5c946f31581c25cfd227/1c3a5/github-thumbnail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.532110091743114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9ElEQVQoz42R226DMBBE+a3+ZX8wT1UTKsVX7PUNM901SdU8FIq0Mux4huP1dLlqXFXETRNmk6BjhworVFxhaDus2SbcDA3v5z3gy2VMLlaU2pALF68pVyjjYH3g/jp6f9bDQ7lAW48lEKbaNgAbtk1WoK9MZiyLcXxL/6jkWdnj/cIwTGj4aL83iOhYDD+B56HiWUJAZtJpthW19eEUs4jWeQ71IEqglFBKOQxsrQ2IQWhjRu/t5W8SGGLk987aXqeES+BAJvTEVANwN4lZ5hGZ7j8zfAbKiOQk04d6gw7vuxkiNtyV5otxYy5ndE8IuchIhG/HenHwtb/UBQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"thumbnail in repo\"\n        title=\"thumbnail in repo\"\n        src=\"/static/1427da54a8ac5c946f31581c25cfd227/fcda8/github-thumbnail.png\"\n        srcset=\"/static/1427da54a8ac5c946f31581c25cfd227/12f09/github-thumbnail.png 148w,\n/static/1427da54a8ac5c946f31581c25cfd227/e4a3f/github-thumbnail.png 295w,\n/static/1427da54a8ac5c946f31581c25cfd227/fcda8/github-thumbnail.png 590w,\n/static/1427da54a8ac5c946f31581c25cfd227/efc66/github-thumbnail.png 885w,\n/static/1427da54a8ac5c946f31581c25cfd227/1c3a5/github-thumbnail.png 981w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">thumbnail: `https://raw.githubusercontent.com/${usr}/${repo}/master/thumbnail.png`;</code></p>\n<p><strong>IMPORTANT: This url will be case sensitive</strong></p>\n<h1>Deployment</h1>\n<p>Now all of that is well and good, but now we are going to talk about how to get it to work within an HTML site. Using <code class=\"language-text\">portfGen()</code>. This function within my code is running everything. It is running my <code class=\"language-text\">reposFunction()</code> (which runs <code class=\"language-text\">getData()</code>). This function will iterate through all of the json objects that I have created and stored in the <code class=\"language-text\">finalArr</code>. The if statement within the function is just there for rendering either on the left or the right side of the screen based on the <code class=\"language-text\">i</code> from when we ran <code class=\"language-text\">getData()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// * GITHUB DATA RENDERING\nconst portfGen= async()=&gt;{ \n    await reposFunction();\n    \n    const data = await finalArr;\n    for(let i=0; i &lt; data.length; i++){\n        if(i % 2 == 0){\n            document.getElementById(&quot;portfolio-content&quot;).innerHTML+=\n             `&lt;div id=&quot;project-${i}&quot; class=&quot;portfolio-container content&quot;&gt;\n                &lt;div class=&quot;thumbnail&quot;&gt;&lt;a href=&quot;${data[i].homepage}&quot; target=&quot;_blank&quot;&gt;\n                &lt;img class=&quot;&quot; src=&quot;${data[i].thumbnail}&quot; alt=&quot;${data[i].title} application photo&quot;&gt;&lt;/img&gt;&lt;/a&gt;&lt;/div&gt; \n                &lt;div class=&quot;paragraph&quot;&gt;\n                    &lt;h2&gt;${data[i].title}&lt;/h2&gt;\n                    &lt;p&gt;${data[i].descr}&lt;/p&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;`\n        }\n        else{\n            document.getElementById(&quot;portfolio-content&quot;).innerHTML+= \n            `&lt;div id=&quot;project-${i}&quot; class=&quot;portfolio-container content&quot;&gt;\n                &lt;div class=&quot;paragraph&quot;&gt;\n                    &lt;h2&gt;${data[i].title}&lt;/h2&gt;\n                    &lt;p&gt;${data[i].descr}&lt;/p&gt;\n                &lt;/div&gt;\n                    &lt;div class=&quot;thumbnail&quot;&gt;&lt;a href=&quot;${data[i].homepage}&quot; target=&quot;_blank&quot;&gt;&lt;img class=&quot;&quot; src=&quot;${data[i].thumbnail}&quot; alt=&quot;${data[i].title} application photo&quot;&gt;&lt;/img&gt;&lt;/a&gt;\n                &lt;/div&gt;`\n        }\n    }\n}</code></pre></div>\n<h2>Implementations</h2>\n<p>I have implemented this GitHub code to build my own personal portfolio site so that I can easily update this information when I know someone is going to be looking at my site. </p>\n<p><strong>Check it out @ <a href=\"https://www.walterkjenkins.com\">walterkjenkins.com</a></strong></p>","frontmatter":{"title":"GitHub Portfolio Builder","date":"August 16, 2019","description":"How to use the GitHub API to easily manage your portfolio"}}},"pageContext":{"slug":"/190817-github-portfolio-builder/","previous":null,"next":{"fields":{"slug":"/190825-AWS-and-the-Three-Bears/"},"frontmatter":{"title":"AWS and the Three Bears"}}}}}